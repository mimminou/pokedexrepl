package main

import (
	"bufio"
	"fmt"
	"os"
)

type command struct {
	name        string
	description string
	function    func() error
}

func interpretCommand(cmd string) {
	//switch that tests for commands
	switch cmd {
	case "/help":
		fmt.Println("print help here")

	case "/exit":
		fmt.Println("Exiting. . .")
		os.Exit(0)

	default:
		returnedData, fetchErr := fetchData(cmd)
		if fetchErr != nil {
			fmt.Println(returnedData)
		} else {
			fmt.Println(fetchErr)
		}
	}

}

func printHelp(cmd command) {

}

func fetchData(pokemon string) (string, error) {
	mockdata := "just some random stuff, this should be structured JSON data then formatted"
	return mockdata, nil
}

// todo : create fetching function, create help command and structs
func main() {
	fmt.Println("Welcome to the GoGo second generation PokeDex")
	fmt.Println("For help, please type /help")
	reader := bufio.NewScanner(os.Stdin)

	for {
		for reader.Scan() {
			input := reader.Text()
			interpretCommand(input)
		}
	}

}
